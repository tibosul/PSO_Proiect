# DHCPv6 SERVER CONFIGURATION FILE
# Notes:
#   - IPv6 does not use broadcast addresses.
#   - Default and maximum lease times are global but can be overridden per subnet.
#   - Each subnet6 defines either an address pool (range6) or a prefix delegation (prefix6).
#   - Host reservations are based on the client DUID.
#########################################################################

# GLOBAL OPTIONS

default-lease-time 3600;         # Default lease duration (seconds)
max-lease-time 7200;             # Maximum lease duration (seconds)

# Global DNS servers (used if not overridden per subnet)
option dhcp6.name-servers 2001:4860:4860::8888, 2001:4860:4860::8844;

# Global domain search list
option dhcp6.domain-search "example.com";

# Optional additional options (ignored if not supported by parser)
option dhcp6.sntp-servers 2001:db8::123;             # NTP/SNTP servers (RFC 4075)
option dhcp6.info-refresh-time 3600;                 # Hint for stateless clients
option dhcp6.preference 255;                         # Server preference
# option dhcp6.sip-server-domain "sip.example.com";  # SIP server domain (RFC 3319)
# option dhcp6.bootfile-url "tftp://[2001:db8::1]/pxelinux.0"; # PXE bootfile (RFC 5970)

# SUBNET 1 - CORPORATE LAN
# Address allocation for employee workstations and internal servers
subnet6 2001:db8:1:0::/64 {
    range6 2001:db8:1:0::1000 2001:db8:1:0::2fff;

    option dhcp6.name-servers 2001:db8:1:0::53, 2001:4860:4860::8888;
    option dhcp6.domain-search "corp.example.com";

    # Static host reservations (identified by DUID)
    host main_server {
        host-identifier option dhcp6.client-id 00:01:00:01:23:45:67:89:ab:cd:ef:01:23:45;
        fixed-address6 2001:db8:1:0::10;
        option dhcp6.hostname "main_server";
    }

    host backup_server {
        host-identifier option dhcp6.client-id 00:01:00:01:98:76:54:32:10:fe:dc:ba:98:76;
        fixed-address6 2001:db8:1:0::20;
        option dhcp6.hostname "backup_server";
    }
}

# SUBNET 2 - GUEST NETWORK
# Public DNS only, isolated from internal resources
subnet6 2001:db8:2:0::/64 {
    range6 2001:db8:2:0::1000 2001:db8:2:0::3fff;

    option dhcp6.name-servers 2001:4860:4860::8888, 2606:4700:4700::1111;
    option dhcp6.domain-search "guest.example.com";

    # No prefix delegation for guests
}

# SUBNET 3 - IOT / SMART DEVICES
# Static and semi-permanent devices (cameras, sensors, automation)
subnet6 2001:db8:10:0::/64 {
    range6 2001:db8:10:0::500 2001:db8:10:0::3fff;
    option dhcp6.domain-search "iot.example.com";
    # Long-term leases suitable for embedded devices
}

# SUBNET 4 - VOIP NETWORK
# SIP and NTP servers used for time and call synchronization
subnet6 2001:db8:100:0::/64 {
    range6 2001:db8:100:0::100 2001:db8:100:0::2fff;
    option dhcp6.name-servers 2001:db8:1:0::53;
    option dhcp6.domain-search "voip.example.com";
    option dhcp6.sntp-servers 2001:db8:1:0::123;
}

# SUBNET 5 - DEVELOPMENT / TEST ENVIRONMENT
# Short leases for frequently changing test systems
subnet6 2001:db8:50:0::/64 {
    range6 2001:db8:50:0::100 2001:db8:50:0::1fff;
    option dhcp6.domain-search "dev.example.com";
}

# SUBNET 6 - LAB A
# Dedicated environment for research and experiments
subnet6 2001:db8:60:0::/64 {
    range6 2001:db8:60:0::200 2001:db8:60:0::2fff;
    option dhcp6.domain-search "lab-a.example.com";
}

# SUBNET 7 - LAB B
# Secondary lab for network simulations
subnet6 2001:db8:61:0::/64 {
    range6 2001:db8:61:0::200 2001:db8:61:0::2fff;
    option dhcp6.domain-search "lab-b.example.com";
}

# SUBNET 8 - WAREHOUSE
# Industrial devices and logistics systems
subnet6 2001:db8:70:0::/64 {
    range6 2001:db8:70:0::300 2001:db8:70:0::3fff;
    option dhcp6.domain-search "warehouse.example.com";
}

# SUBNET 9 - CCTV NETWORK
# IP surveillance and security equipment
subnet6 2001:db8:80:0::/64 {
    range6 2001:db8:80:0::100 2001:db8:80:0::1fff;
    option dhcp6.domain-search "cctv.example.com";
}

# SUBNET 10 - WIFI VLAN 10
# Employees wireless VLAN
subnet6 2001:db8:90:0::/64 {
    range6 2001:db8:90:0::100 2001:db8:90:0::2fff;
    option dhcp6.domain-search "wifi10.example.com";
}

# SUBNET 11 - WIFI VLAN 20
# Guest wireless VLAN
subnet6 2001:db8:91:0::/64 {
    range6 2001:db8:91:0::100 2001:db8:91:0::2fff;
    option dhcp6.domain-search "wifi20.example.com";
}

# SUBNET 12 - DMZ (DEMILITARIZED ZONE)
# Public-facing servers (web, mail, VPN)
subnet6 2001:db8:203:0::/64 {
    range6 2001:db8:203:0::50 2001:db8:203:0::9f;

    option dhcp6.name-servers 2001:4860:4860::8888, 2606:4700:4700::1111;
    option dhcp6.domain-search "example.com";
    # No prefix delegation for DMZ
}

# SUBNET 13 - ISP EDGE / PREFIX DELEGATION (IA_PD)
# Delegates /56 prefixes to customer routers
subnet6 2001:db8:3:0::/48 {
    prefix6 2001:db8:3:0:: 2001:db8:3:ffff:: /56;

    option dhcp6.name-servers 2001:4860:4860::8888, 2606:4700:4700::1111;
    option dhcp6.domain-search "delegated.example.com";
}

# SUBNET 14 - TEST PREFIX DELEGATION
# Used for validating IA_PD allocations in lab
subnet6 2001:db8:4:0::/48 {
    prefix6 2001:db8:4:0:: 2001:db8:4:ffff:: /60;

    option dhcp6.name-servers 2001:db8:1:0::53, 2001:4860:4860::8888;
    option dhcp6.domain-search "pd-test.example.com";
}

# SUBNET 15 - ADMIN / NETOPS
# Static DUID-based reservations for administrators and network tools
subnet6 2001:db8:5:0::/64 {
    range6 2001:db8:5:0::100 2001:db8:5:0::1fff;
    option dhcp6.domain-search "netops.example.com";

    host netops-laptop {
        host-identifier option dhcp6.client-id 00:03:00:01:aa:bb:cc:dd:ee:ff:00:11:22:33;
        fixed-address6 2001:db8:5:0::42;
        option dhcp6.hostname "netops-laptop";
    }
}

# END OF CONFIGURATION
# This file can be extended with additional subnets or IA_PD blocks
# Unknown options should be logged and ignored, not cause parsing errors